webpackJsonp([13],{"0Ua+":function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e("Xxa5"),a=e.n(i),r=e("exGp"),o=e.n(r),l=e("woOf"),u=e.n(l),c=e("Dd8w"),s=e.n(c),d=e("5aCZ"),p=e("T452"),f=e("NYxO"),h={AT:[]},m=function(){return u()({},h)},v={components:{Tinymce:d.a},name:"add",data:function(){return{dialogImageUrl:"",dialogVisible:!1,id:0,isLimit:!1,inputVisible:!1,inputValue:"",UTfileList:[],ATfileList:[],form:m()}},mounted:function(){this.handleData()},computed:s()({},Object(f.c)({role:function(n){return n.user.roles}})),methods:{handleData:function(n){var t=this;return o()(a.a.mark(function n(){var e;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p.a.AT.get();case 2:e=n.sent,t.form.AT=e.data;case 4:case"end":return n.stop()}},n,t)}))()},onSubmit:function(n){var t=this;return o()(a.a.mark(function e(){var i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.form.AT.filter(function(n){return!n.id}).map(function(n){return s()({},n,{sort:1})}),e.next=3,p.a.AT.set(i[n]);case 3:if(n<i.length-1&&t.onSubmit(n+1),n!==i.length-1){e.next=7;break}return t.handleData(),e.abrupt("return",t.$message("发布成功"));case 7:case"end":return e.stop()}},e,t)}))()},handleClose:function(n){this.form.AT.splice(this.form.AT.indexOf(n),1)},showInput:function(){var n=this;this.inputVisible=!0,this.$nextTick(function(t){n.$refs.saveTagInput.$refs.input.focus()})},reset:function(){this.form=m()},handleInputConfirm:function(){var n=this.inputValue;n&&this.form.AT.push({name:n}),this.inputVisible=!1,this.inputValue=""},handleSwitch:function(n){n||(this.form.join_limit_number=-1)},handleRemove:function(n,t){console.log(n,t)},handlePictureCardPreview:function(n){this.dialogImageUrl=n.url,this.dialogVisible=!0}}},g={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{key:n.id,staticClass:"container"},[e("el-form",{ref:"form",attrs:{model:n.form,"label-width":"120px"}},[e("el-form-item",{attrs:{label:"用户标签"}},[n._l(n.form.AT,function(t,i){return e("el-tag",{key:i,attrs:{closable:!t.id,"disable-transitions":!0},on:{close:function(e){n.handleClose(t)}}},[n._v("\n        "+n._s(t.name)+"\n      ")])}),n._v(" "),n.inputVisible?e("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:n.handleInputConfirm},nativeOn:{keyup:function(t){if(!("button"in t)&&n._k(t.keyCode,"enter",13,t.key))return null;n.handleInputConfirm(t)}},model:{value:n.inputValue,callback:function(t){n.inputValue=t},expression:"inputValue"}}):e("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:n.showInput}},[n._v("+ New Tag")])],2),n._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:function(t){n.onSubmit(0)}}},[n._v("确定")])],1)],1)],1)},staticRenderFns:[]};var b=e("VU/8")(v,g,!1,function(n){e("oHdi")},"data-v-c0446c70",null);t.default=b.exports},AiWt:function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n.container[data-v-c0446c70] {\n  width: 80%;\n  min-width: 400px;\n  margin: 0 auto;\n  padding-top: 50px;\n}\n.line[data-v-c0446c70] {\n  text-align: center;\n}\n.el-tag + .el-tag[data-v-c0446c70] {\n  margin-left: 10px;\n}\n.button-new-tag[data-v-c0446c70] {\n  margin-left: 10px;\n  height: 32px;\n  line-height: 30px;\n  padding-top: 0;\n  padding-bottom: 0;\n}\n.input-new-tag[data-v-c0446c70] {\n  width: 90px;\n  margin-left: 10px;\n  vertical-align: bottom;\n}\n.cover-uploader .el-upload[data-v-c0446c70] {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.cover-uploader .el-upload[data-v-c0446c70]:hover {\n  border-color: #409eff;\n}\n.cover-uploader-icon[data-v-c0446c70] {\n  font-size: 28px;\n  color: #8c939d;\n  width: 316px;\n  height: 178px;\n  line-height: 178px;\n  text-align: center;\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.cover-uploader-icon[data-v-c0446c70]:hover {\n  border-color: #409eff;\n}\n.cover[data-v-c0446c70] {\n  width: 316px;\n  height: auto;\n  display: block;\n}\n",""])},oHdi:function(n,t,e){var i=e("AiWt");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);e("rjj0")("8059e094",i,!0)}});